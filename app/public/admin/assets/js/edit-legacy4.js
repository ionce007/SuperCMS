System.register(["./element-plus-legacy.js","./vue-router-legacy.js","./field-legacy.js","./model-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vanilla-jsoneditor-legacy.js","./json-source-map-legacy.js","./@jsonquerylang-legacy.js","./@fortawesome-legacy.js","./natural-compare-lite-legacy.js","./fast-deep-equal-legacy.js","./fast-uri-legacy.js","./jmespath-legacy.js","./jsonpath-plus-legacy.js","./@codemirror-legacy.js","./@lezer-legacy.js","./crelt-legacy.js","./@marijn-legacy.js","./style-mod-legacy.js","./w3c-keyname-legacy.js","./@replit-legacy.js","./immutable-json-patch-legacy.js","./jsonrepair-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],(function(l,e){"use strict";var a,u,s,n,t,o,c,d,r,m,y,g,i,j,p,b,f,v,V,h,_,w,q,U;return{setters:[l=>{a=l.r,u=l.s,s=l.J,n=l.K,t=l.f,o=l.q,c=l.E},l=>{d=l.a,r=l.u},l=>{m=l.d,y=l.u},l=>{g=l.h},l=>{i=l._},l=>{j=l.r,p=l.W,b=l.n,f=l.c,v=l.o,V=l.O,h=l.L,_=l.I,w=l.ac,q=l.a,U=l.a3},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent="/*$vite$:1*/",document.head.appendChild(e);const k={class:"bg-fff pd-20 radius-6"};l("default",i({__name:"edit",setup(l){const e=j(null),i=p({id:"",mid:"",tableName:"",cname:"",ename:"",type:"",val:"",defaultVal:"",length:"",orderBy:"0"}),x=[{value:"1",label:"单行文本"},{value:"2",label:"多行文本 "},{value:"3",label:"下拉菜单"},{value:"4",label:"单选"},{value:"5",label:"多选 "},{value:"6",label:"时间和日期 "},{value:"7",label:"数字 "},{value:"8",label:"多图上传 "},{value:"9",label:"富文本 "}],N=[{required:!0,message:"请输入中文名称",trigger:"blur"}],z=[{required:!0,message:"请输入英文名称",trigger:"blur"}],B=[{required:!0,message:"请选择类型",trigger:"blur"}],C=d(),E=r();b((async()=>{const{fid:l,mid:e,tableName:a}=C.query;i.id=l,i.mid=e,i.tableName=a,await F()}));const F=async()=>{try{const l=await m(i.id);200===l.code&&(Object.assign(i,l.data,{old_ename:l.data.ename}),I(i.mid))}catch(l){console.error(l)}},I=async l=>{try{const e=await g(l);e?.data?.has?.length>0?console.log("Field is used"):console.log("Field is not used")}catch(e){console.log(e)}},O=()=>{e.value.validate((async l=>{if(!l)return console.log("error submit!!"),!1;await $()}))},$=async()=>{try{const l=await y(i);200===l.code?c({message:"更新成功^_^",type:"success"}):c({message:l.msg,type:"error"}),E.go(-1)}catch(l){console.log(l)}};return(l,c)=>{const d=u,r=a,m=n,y=s,g=t,j=o;return v(),f("div",k,[V(j,{ref_key:"formRef",ref:e,model:i,"label-width":"100px",class:"mt-20"},{default:h((()=>[V(r,{label:"中文名称",prop:"cname",rules:N},{default:h((()=>[V(d,{modelValue:i.cname,"onUpdate:modelValue":c[0]||(c[0]=l=>i.cname=l),placeholder:"请输入字段中文名称"},null,8,["modelValue"])])),_:1}),V(r,{label:"字段名称",prop:"ename",rules:z},{default:h((()=>[V(d,{modelValue:i.ename,"onUpdate:modelValue":c[1]||(c[1]=l=>i.ename=l),placeholder:"请输入英文小驼峰方式，例：bookName"},null,8,["modelValue"])])),_:1}),V(r,{label:"字段类型",rules:B},{default:h((()=>[V(y,{modelValue:i.type,"onUpdate:modelValue":c[2]||(c[2]=l=>i.type=l),placeholder:"请选择"},{default:h((()=>[(v(),f(_,null,w(x,(l=>V(m,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),V(r,{label:"字段选项"},{default:h((()=>[V(d,{modelValue:i.defaultVal,"onUpdate:modelValue":c[3]||(c[3]=l=>i.defaultVal=l),rows:2,type:"textarea",placeholder:"单选、多选、下拉框，请填写json格式。"},null,8,["modelValue"]),c[7]||(c[7]=q("p",{class:"f-12 c-999"},'例如：{"options":[{"label":"本地下载","value":"1"},{"label":"电信下载","value":"2"}]}',-1))])),_:1}),V(r,{label:"默认值"},{default:h((()=>[V(d,{modelValue:i.val,"onUpdate:modelValue":c[4]||(c[4]=l=>i.val=l)},null,8,["modelValue"])])),_:1}),V(r,{label:"排序"},{default:h((()=>[V(d,{modelValue:i.orderBy,"onUpdate:modelValue":c[5]||(c[5]=l=>i.orderBy=l)},null,8,["modelValue"])])),_:1}),V(r,{label:"字段长度"},{default:h((()=>[V(d,{modelValue:i.length,"onUpdate:modelValue":c[6]||(c[6]=l=>i.length=l)},null,8,["modelValue"])])),_:1}),V(r,null,{default:h((()=>[V(g,{type:"primary",onClick:O},{default:h((()=>c[8]||(c[8]=[U("保存")]))),_:1})])),_:1})])),_:1},8,["model"])])}}},[["__scopeId","data-v-fd1255a4"]]))}}}));
