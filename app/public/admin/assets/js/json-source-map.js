var L={},F={b:"\b",f:"\f",n:"\n",r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},G=97;L.parse=function(t,_,w){var S={},p=0,s=0,r=0,m=w&&w.bigint&&typeof BigInt<"u";return{data:C("",!0),pointers:S};function C(e,n){b();var a;E(e,"value");var c=u();switch(c){case"t":y("rue"),a=!0;break;case"f":y("alse"),a=!1;break;case"n":y("ull"),a=null;break;case'"':a=N();break;case"[":a=j(e);break;case"{":a=d(e);break;default:k(),"-0123456789".indexOf(c)>=0?a=x():l()}return E(e,"valueEnd"),b(),n&&r<t.length&&l(),a}function b(){e:for(;r<t.length;){switch(t[r]){case" ":s++;break;case"	":s+=4;break;case"\r":s=0;break;case"\n":s=0,p++;break;default:break e}r++}}function N(){for(var e="",n;n=u(),n!='"';)n=="\\"?(n=u(),n in F?e+=F[n]:n=="u"?e+=f():v()):e+=n;return e}function x(){var e="",n=!0;t[r]=="-"&&(e+=u()),e+=t[r]=="0"?u():h(),t[r]=="."&&(e+=u()+h(),n=!1),(t[r]=="e"||t[r]=="E")&&(e+=u(),(t[r]=="+"||t[r]=="-")&&(e+=u()),e+=h(),n=!1);var a=+e;return m&&n&&(a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)?BigInt(e):a}function j(e){b();var n=[],a=0;if(u()=="]")return n;for(k();;){var c=e+"/"+a;n.push(C(c)),b();var o=u();if(o=="]")break;o!=","&&v(),b(),a++}return n}function d(e){b();var n={};if(u()=="}")return n;for(k();;){var a=i();u()!='"'&&v();var c=N(),o=e+"/"+B(c);T(o,"key",a),E(o,"keyEnd"),b(),u()!=":"&&v(),b(),n[c]=C(o),b();var g=u();if(g=="}")break;g!=","&&v(),b()}return n}function y(e){for(var n=0;n<e.length;n++)u()!==e[n]&&v()}function u(){M();var e=t[r];return r++,s++,e}function k(){r--,s--}function f(){for(var e=4,n=0;e--;){n<<=4;var a=u().toLowerCase();a>="a"&&a<="f"?n+=a.charCodeAt()-G+10:a>="0"&&a<="9"?n+=+a:v()}return String.fromCharCode(n)}function h(){for(var e="";t[r]>="0"&&t[r]<="9";)e+=u();if(e.length)return e;M(),l()}function E(e,n){T(e,n,i())}function T(e,n,a){S[e]=S[e]||{},S[e][n]=a}function i(){return{line:p,column:s,pos:r}}function l(){throw new SyntaxError("Unexpected token "+t[r]+" in JSON at position "+r)}function v(){k(),l()}function M(){if(r>=t.length)throw new SyntaxError("Unexpected end of JSON input")}};L.stringify=function(t,_,w){if(!I(t))return;var S=0,p,s,r=typeof w=="object"?w.space:w;switch(typeof r){case"number":var m=r>10?10:r<0?0:Math.floor(r);r=m&&T(m," "),p=m,s=m;break;case"string":r=r.slice(0,10),p=0,s=0;for(var C=0;C<r.length;C++){var b=r[C];switch(b){case" ":s++;break;case"	":s+=4;break;case"\r":s=0;break;case"\n":s=0,S++;break;default:throw new Error("whitespace characters not allowed in JSON")}p++}break;default:r=void 0}var N="",x={},j=0,d=0,y=0,u=w&&w.es6&&typeof Map=="function";return k(t,0,""),{json:N,pointers:x};function k(i,l,v){switch(E(v,"value"),typeof i){case"number":case"bigint":case"boolean":f(""+i);break;case"string":f(J(i));break;case"object":i===null?f("null"):typeof i.toJSON=="function"?f(J(i.toJSON())):Array.isArray(i)?M():u?i.constructor.BYTES_PER_ELEMENT?M():i instanceof Map?n():i instanceof Set?n(!0):e():e()}E(v,"valueEnd");function M(){if(i.length){f("[");for(var a=l+1,c=0;c<i.length;c++){c&&f(","),h(a);var o=I(i[c])?i[c]:null,g=v+"/"+c;k(o,a,g)}h(l),f("]")}else f("[]")}function e(){var a=Object.keys(i);if(a.length){f("{");for(var c=l+1,o=0;o<a.length;o++){var g=a[o],A=i[g];if(I(A)){o&&f(",");var O=v+"/"+B(g);h(c),E(O,"key"),f(J(g)),E(O,"keyEnd"),f(":"),r&&f(" "),k(A,c,O)}}h(l),f("}")}else f("{}")}function n(a){if(i.size){f("{");for(var c=l+1,o=!0,g=i.entries(),A=g.next();!A.done;){var O=A.value,R=O[0],D=a?!0:O[1];if(I(D)){o||f(","),o=!1;var U=v+"/"+B(R);h(c),E(U,"key"),f(J(R)),E(U,"keyEnd"),f(":"),r&&f(" "),k(D,c,U)}A=g.next()}h(l),f("}")}else f("{}")}}function f(i){d+=i.length,y+=i.length,N+=i}function h(i){if(r){for(N+="\n"+T(i,r),j++,d=0;i--;)S?(j+=S,d=s):d+=s,y+=p;y+=1}}function E(i,l){x[i]=x[i]||{},x[i][l]={line:j,column:d,pos:y}}function T(i,l){return Array(i+1).join(l)}};var Y=["number","bigint","boolean","string","object"];function I(t){return Y.indexOf(typeof t)>=0}var q=/"|\\/g,z=/[\b]/g,Q=/\f/g,V=/\n/g,X=/\r/g,$=/\t/g;function J(t){return t=t.replace(q,"\\$&").replace(Q,"\\f").replace(z,"\\b").replace(V,"\\n").replace(X,"\\r").replace($,"\\t"),'"'+t+'"'}var H=/~/g,K=/\//g;function B(t){return t.replace(H,"~0").replace(K,"~1")}export{L as j};
