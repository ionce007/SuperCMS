import{E as p,q as y,r as g,s as b,f as w,n as E}from"./element-plus.js";import{f as V,u as k}from"./sys_config.js";import{W as x,r as h,n as v,c as F,o as q,O as o,L as a,a3 as B}from"./@vue.js";import"./dayjs.js";import"./@element-plus.js";import"./lodash-es.js";import"./@popperjs.js";import"./async-validator.js";import"./@ctrl.js";import"./memoize-one.js";import"./normalize-wheel-es.js";import"./index.js";import"./pinia.js";import"./pinia-plugin-persist.js";import"./vanilla-jsoneditor.js";import"./json-source-map.js";import"./@jsonquerylang.js";import"./@fortawesome.js";import"./natural-compare-lite.js";import"./fast-deep-equal.js";import"./fast-uri.js";import"./jmespath.js";import"./jsonpath-plus.js";import"./@codemirror.js";import"./@lezer.js";import"./crelt.js";import"./@marijn.js";import"./style-mod.js";import"./w3c-keyname.js";import"./@replit.js";import"./immutable-json-patch.js";import"./jsonrepair.js";import"./vue-router.js";import"./axios.js";import"./js-cookie.js";import"./nprogress.js";/* empty css     */const W={class:"mr-10 ml-10"},fe={__name:"wechat",setup(C){const t=x({loading:!0,set:{template:"default",appid:"",secret:"",accessKey:"",secretKey:"",domain:"",bucket:"",uploadWay:"1"}}),l=h(null);v(async()=>{await i()});async function i(){try{const e=await V();e.code===200?(t.loading=!1,Object.assign(t.set,e.data)):p({message:e.msg,type:"error"})}catch(e){console.log(e)}}async function c(){try{const e=await k(t.set);e.code===200?(p({message:"更新成功^_^",type:"success"}),await i()):p({message:e.msg,type:"error"})}catch(e){console.log(e)}}function u(){l.value.validate(async e=>{if(e)await c();else return console.log("error submit!!"),!1})}return(e,r)=>{const n=b,s=g,d=w,f=y,_=E;return q(),F("div",W,[o(_,{label:"微信配置",class:"mt-20",name:"wechat"},{default:a(()=>[o(f,{ref_key:"setFormRef",ref:l,model:t.set,"label-width":"80px"},{default:a(()=>[o(s,{label:"appid",prop:"appid",rules:[{required:!0,message:"请输入appid",trigger:"blur"}]},{default:a(()=>[o(n,{modelValue:t.set.appid,"onUpdate:modelValue":r[0]||(r[0]=m=>t.set.appid=m)},null,8,["modelValue"])]),_:1}),o(s,{prop:"secret",label:"secret"},{default:a(()=>[o(n,{modelValue:t.set.secret,"onUpdate:modelValue":r[1]||(r[1]=m=>t.set.secret=m)},null,8,["modelValue"])]),_:1}),o(s,null,{default:a(()=>[o(d,{type:"primary",onClick:u},{default:a(()=>r[2]||(r[2]=[B("保存")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}};export{fe as default};
