System.register(["./element-plus-legacy.js","./vue-router-legacy.js","./slide-legacy.js","./upload-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./sys_config-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vanilla-jsoneditor-legacy.js","./json-source-map-legacy.js","./@jsonquerylang-legacy.js","./@fortawesome-legacy.js","./natural-compare-lite-legacy.js","./fast-deep-equal-legacy.js","./fast-uri-legacy.js","./jmespath-legacy.js","./jsonpath-plus-legacy.js","./@codemirror-legacy.js","./@lezer-legacy.js","./crelt-legacy.js","./@marijn-legacy.js","./style-mod-legacy.js","./w3c-keyname-legacy.js","./@replit-legacy.js","./immutable-json-patch-legacy.js","./jsonrepair-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],function(l,e){"use strict";var a,s,t,n,r,u,c,o,i,g,d,y,m,j,p,f,h,_,v,U,b,k,w;return{setters:[l=>{a=l.r,s=l.s,t=l.D,n=l.F,r=l.a,u=l.G,c=l.f,o=l.q,i=l.E},l=>{g=l.u},l=>{d=l.c},l=>{y=l.a},l=>{m=l._},l=>{j=l.r,p=l.W,f=l.ab,h=l.c,_=l.o,v=l.O,U=l.L,b=l.K,k=l.H,w=l.a3},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent="/*$vite$:1*/",document.head.appendChild(e);const V={class:"bg-fff pd-20 radius-6"};l("default",m({__name:"add",setup(l){const e=g(),m=j(null),x={title:[{required:!0,message:"请输入标题",trigger:"blur"}]},q=p({title:"",imgUrl:"",linkUrl:""}),z=l=>-1===l.type.indexOf("image")?(i("上传文件只能是图片格式"),!1):!(l.size/1024/1024>.2&&(i("上传图片必须小于200k"),1)),C=async l=>{const e=new FormData;e.append("file",l.file);const a=await y(e);200===a.code&&(q.imgUrl=a.data.path)},D=()=>{m.value.validate(async l=>{if(l)try{const l=await d(q);200===l.code?(i({message:"新增成功^_^",type:"success"}),e.back()):i({message:l.msg,type:"error"})}catch(a){console.error(a)}else console.log("error submit!!")})};return(l,e)=>{const i=s,g=a,d=f("MostlyCloudy"),y=r,j=n,p=t,E=u,F=c,O=o;return _(),h("div",V,[v(O,{model:q,rules:x,ref_key:"formRef",ref:m,"label-width":"84px",class:"mt-20"},{default:U(()=>[v(g,{label:"轮播标题",prop:"title"},{default:U(()=>[v(i,{modelValue:q.title,"onUpdate:modelValue":e[0]||(e[0]=l=>q.title=l)},null,8,["modelValue"])]),_:1}),v(g,{class:"flex",label:"轮播图"},{default:U(()=>[v(p,{class:"avatar-uploader","http-request":C,"show-file-list":!1,"before-upload":z},{default:U(()=>[v(j,{placement:"top-start",title:"上传",width:200,trigger:"hover",content:"上传图片作为封面图，大小200k内"},{reference:U(()=>[v(y,{class:"avatar-uploader-icon"},{default:U(()=>[v(d)]),_:1})]),_:1})]),_:1}),q.imgUrl?(_(),b(j,{key:0,placement:"right",width:600,trigger:"hover"},{reference:U(()=>[v(E,{class:"avatar-uploader-icon pointer ml-10",src:q.imgUrl},null,8,["src"])]),default:U(()=>[v(E,{style:{width:"100%"},src:q.imgUrl},null,8,["src"])]),_:1})):k("",!0),v(i,{class:"ml-10 flex-1",modelValue:q.imgUrl,"onUpdate:modelValue":e[1]||(e[1]=l=>q.imgUrl=l)},null,8,["modelValue"])]),_:1}),v(g,{label:"轮播链接"},{default:U(()=>[v(i,{modelValue:q.linkUrl,"onUpdate:modelValue":e[2]||(e[2]=l=>q.linkUrl=l)},null,8,["modelValue"])]),_:1}),v(g,null,{default:U(()=>[v(F,{type:"primary",onClick:D},{default:U(()=>e[3]||(e[3]=[w("保存")])),_:1})]),_:1})]),_:1},8,["model"])])}}},[["__scopeId","data-v-f40cf0c1"]]))}}});
